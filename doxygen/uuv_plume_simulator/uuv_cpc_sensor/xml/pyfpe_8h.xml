<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.13">
  <compounddef id="pyfpe_8h" kind="file" language="C++">
    <compoundname>pyfpe.h</compoundname>
    <includedby refid="_python_8h" local="yes">/usr/include/python3.6m/Python.h</includedby>
    <invincdepgraph>
      <node id="3483">
        <label>/usr/include/python3.6m/Imaging.h</label>
        <link refid="_imaging_8h_source"/>
      </node>
      <node id="3480">
        <label>/usr/include/python3.6m/pyfpe.h</label>
        <link refid="pyfpe_8h"/>
        <childnode refid="3481" relation="include">
        </childnode>
      </node>
      <node id="3484">
        <label>/usr/include/python3.6m/pgenheaders.h</label>
        <link refid="pgenheaders_8h_source"/>
      </node>
      <node id="3486">
        <label>venv/lib/python3.6/site-packages/lxml/includes/etree_defs.h</label>
        <link refid="etree__defs_8h_source"/>
      </node>
      <node id="3481">
        <label>/usr/include/python3.6m/Python.h</label>
        <link refid="_python_8h_source"/>
        <childnode refid="3482" relation="include">
        </childnode>
        <childnode refid="3484" relation="include">
        </childnode>
        <childnode refid="3485" relation="include">
        </childnode>
        <childnode refid="3486" relation="include">
        </childnode>
        <childnode refid="3487" relation="include">
        </childnode>
      </node>
      <node id="3487">
        <label>venv/lib/python3.6/site-packages/lxml/lxml.etree_api.h</label>
        <link refid="lxml_8etree__api_8h_source"/>
      </node>
      <node id="3482">
        <label>/usr/include/python3.6m/ImPlatform.h</label>
        <link refid="_im_platform_8h_source"/>
        <childnode refid="3483" relation="include">
        </childnode>
      </node>
      <node id="3485">
        <label>venv/lib/python3.6/site-packages/lxml/etree_api.h</label>
        <link refid="etree__api_8h_source"/>
      </node>
    </invincdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="pyfpe_8h_1ad4aecd6d818b68b933748716a6ad1f7f" prot="public" static="no">
        <name>PyFPE_START_PROTECT</name>
        <param><defname>err_string</defname></param>
        <param><defname>leave_stmt</defname></param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/usr/include/python3.6m/pyfpe.h" line="168" column="9" bodyfile="/usr/include/python3.6m/pyfpe.h" bodystart="168" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pyfpe_8h_1adf13025b8109440eb66655f41cc16fdb" prot="public" static="no">
        <name>PyFPE_END_PROTECT</name>
        <param><defname>v</defname></param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/usr/include/python3.6m/pyfpe.h" line="169" column="9" bodyfile="/usr/include/python3.6m/pyfpe.h" bodystart="169" bodyend="-1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#ifndef<sp/>Py_PYFPE_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>Py_PYFPE_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;C&quot;</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>---------------------------------------------------------------------</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/><sp/><sp/><sp/>/<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Copyright<sp/>(c)<sp/>1996.<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>Regents<sp/>of<sp/>the<sp/>University<sp/>of<sp/>California.<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>All<sp/>rights<sp/>reserved.<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>Permission<sp/>to<sp/>use,<sp/>copy,<sp/>modify,<sp/>and<sp/>distribute<sp/>this<sp/>software<sp/>for<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>any<sp/>purpose<sp/>without<sp/>fee<sp/>is<sp/>hereby<sp/>granted,<sp/>provided<sp/>that<sp/>this<sp/>en-<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>tire<sp/>notice<sp/>is<sp/>included<sp/>in<sp/>all<sp/>copies<sp/>of<sp/>any<sp/>software<sp/>which<sp/>is<sp/>or<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>includes<sp/><sp/>a<sp/><sp/>copy<sp/><sp/>or<sp/><sp/>modification<sp/><sp/>of<sp/><sp/>this<sp/>software<sp/>and<sp/>in<sp/>all<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>copies<sp/>of<sp/>the<sp/>supporting<sp/>documentation<sp/>for<sp/>such<sp/>software.<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>This<sp/><sp/>work<sp/>was<sp/>produced<sp/>at<sp/>the<sp/>University<sp/>of<sp/>California,<sp/>Lawrence<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>Livermore<sp/>National<sp/>Laboratory<sp/>under<sp/><sp/>contract<sp/><sp/>no.<sp/><sp/>W-7405-ENG-48<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>between<sp/><sp/>the<sp/><sp/>U.S.<sp/><sp/>Department<sp/><sp/>of<sp/><sp/>Energy<sp/>and<sp/>The<sp/>Regents<sp/>of<sp/>the<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>University<sp/>of<sp/>California<sp/>for<sp/>the<sp/>operation<sp/>of<sp/>UC<sp/>LLNL.<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="23"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DISCLAIMER<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="24"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="25"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>This<sp/><sp/>software<sp/>was<sp/>prepared<sp/>as<sp/>an<sp/>account<sp/>of<sp/>work<sp/>sponsored<sp/>by<sp/>an<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="26"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>agency<sp/>of<sp/>the<sp/>United<sp/>States<sp/>Government.<sp/>Neither<sp/>the<sp/>United<sp/>States<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="27"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>Government<sp/><sp/>nor<sp/>the<sp/>University<sp/>of<sp/>California<sp/>nor<sp/>any<sp/>of<sp/>their<sp/>em-<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="28"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>ployees,<sp/>makes<sp/>any<sp/>warranty,<sp/>express<sp/>or<sp/>implied,<sp/>or<sp/><sp/>assumes<sp/><sp/>any<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="29"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>liability<sp/><sp/>or<sp/><sp/>responsibility<sp/><sp/>for<sp/>the<sp/>accuracy,<sp/>completeness,<sp/>or<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="30"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>usefulness<sp/>of<sp/>any<sp/>information,<sp/><sp/>apparatus,<sp/><sp/>product,<sp/><sp/>or<sp/><sp/>process<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="31"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>disclosed,<sp/><sp/><sp/>or<sp/><sp/>represents<sp/><sp/>that<sp/><sp/>its<sp/><sp/>use<sp/><sp/>would<sp/><sp/>not<sp/><sp/>infringe<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="32"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>privately-owned<sp/>rights.<sp/>Reference<sp/>herein<sp/>to<sp/>any<sp/>specific<sp/><sp/>commer-<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="33"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>cial<sp/><sp/>products,<sp/><sp/>process,<sp/><sp/>or<sp/><sp/>service<sp/><sp/>by<sp/>trade<sp/>name,<sp/>trademark,<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="34"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>manufacturer,<sp/>or<sp/>otherwise,<sp/>does<sp/>not<sp/><sp/>necessarily<sp/><sp/>constitute<sp/><sp/>or<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="35"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>imply<sp/><sp/>its<sp/>endorsement,<sp/>recommendation,<sp/>or<sp/>favoring<sp/>by<sp/>the<sp/>United<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="36"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>States<sp/>Government<sp/>or<sp/>the<sp/>University<sp/>of<sp/>California.<sp/>The<sp/>views<sp/><sp/>and<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="37"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>opinions<sp/><sp/>of<sp/>authors<sp/>expressed<sp/>herein<sp/>do<sp/>not<sp/>necessarily<sp/>state<sp/>or<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="38"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>reflect<sp/>those<sp/>of<sp/>the<sp/>United<sp/>States<sp/>Government<sp/>or<sp/><sp/>the<sp/><sp/>University<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="39"><highlight class="comment"><sp/><sp/><sp/>|<sp/><sp/><sp/>of<sp/><sp/>California,<sp/><sp/>and<sp/>shall<sp/>not<sp/>be<sp/>used<sp/>for<sp/>advertising<sp/>or<sp/>product<sp/><sp/><sp/>|</highlight></codeline>
<codeline lineno="40"><highlight class="comment"><sp/><sp/><sp/><sp/>\<sp/><sp/>endorsement<sp/>purposes.<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>/</highlight></codeline>
<codeline lineno="41"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>---------------------------------------------------------------------</highlight></codeline>
<codeline lineno="42"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="45"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Define<sp/>macros<sp/>for<sp/>handling<sp/>SIGFPE.</highlight></codeline>
<codeline lineno="46"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Lee<sp/>Busby,<sp/>LLNL,<sp/>November,<sp/>1996</highlight></codeline>
<codeline lineno="47"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/>busby1@llnl.gov</highlight></codeline>
<codeline lineno="48"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="49"><highlight class="comment"><sp/>*********************************************</highlight></codeline>
<codeline lineno="50"><highlight class="comment"><sp/>*<sp/>Overview<sp/>of<sp/>the<sp/>system<sp/>for<sp/>handling<sp/>SIGFPE:</highlight></codeline>
<codeline lineno="51"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="52"><highlight class="comment"><sp/>*<sp/>This<sp/>file<sp/>(Include/pyfpe.h)<sp/>defines<sp/>a<sp/>couple<sp/>of<sp/>&quot;wrapper&quot;<sp/>macros<sp/>for</highlight></codeline>
<codeline lineno="53"><highlight class="comment"><sp/>*<sp/>insertion<sp/>into<sp/>your<sp/>Python<sp/>C<sp/>code<sp/>of<sp/>choice.<sp/>Their<sp/>proper<sp/>use<sp/>is</highlight></codeline>
<codeline lineno="54"><highlight class="comment"><sp/>*<sp/>discussed<sp/>below.<sp/>The<sp/>file<sp/>Python/pyfpe.c<sp/>defines<sp/>a<sp/>pair<sp/>of<sp/>global</highlight></codeline>
<codeline lineno="55"><highlight class="comment"><sp/>*<sp/>variables<sp/>PyFPE_jbuf<sp/>and<sp/>PyFPE_counter<sp/>which<sp/>are<sp/>used<sp/>by<sp/>the<sp/>signal</highlight></codeline>
<codeline lineno="56"><highlight class="comment"><sp/>*<sp/>handler<sp/>for<sp/>SIGFPE<sp/>to<sp/>decide<sp/>if<sp/>a<sp/>particular<sp/>exception<sp/>was<sp/>protected</highlight></codeline>
<codeline lineno="57"><highlight class="comment"><sp/>*<sp/>by<sp/>the<sp/>macros.<sp/>The<sp/>signal<sp/>handler<sp/>itself,<sp/>and<sp/>code<sp/>for<sp/>enabling<sp/>the</highlight></codeline>
<codeline lineno="58"><highlight class="comment"><sp/>*<sp/>generation<sp/>of<sp/>SIGFPE<sp/>in<sp/>the<sp/>first<sp/>place,<sp/>is<sp/>in<sp/>a<sp/>(new)<sp/>Python<sp/>module</highlight></codeline>
<codeline lineno="59"><highlight class="comment"><sp/>*<sp/>named<sp/>fpectl.<sp/>This<sp/>module<sp/>is<sp/>standard<sp/>in<sp/>every<sp/>respect.<sp/>It<sp/>can<sp/>be<sp/>loaded</highlight></codeline>
<codeline lineno="60"><highlight class="comment"><sp/>*<sp/>either<sp/>statically<sp/>or<sp/>dynamically<sp/>as<sp/>you<sp/>choose,<sp/>and<sp/>like<sp/>any<sp/>other</highlight></codeline>
<codeline lineno="61"><highlight class="comment"><sp/>*<sp/>Python<sp/>module,<sp/>has<sp/>no<sp/>effect<sp/>until<sp/>you<sp/>import<sp/>it.</highlight></codeline>
<codeline lineno="62"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="63"><highlight class="comment"><sp/>*<sp/>In<sp/>the<sp/>general<sp/>case,<sp/>there<sp/>are<sp/>three<sp/>steps<sp/>toward<sp/>handling<sp/>SIGFPE<sp/>in<sp/>any</highlight></codeline>
<codeline lineno="64"><highlight class="comment"><sp/>*<sp/>Python<sp/>code:</highlight></codeline>
<codeline lineno="65"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="66"><highlight class="comment"><sp/>*<sp/>1)<sp/>Add<sp/>the<sp/>*_PROTECT<sp/>macros<sp/>to<sp/>your<sp/>C<sp/>code<sp/>as<sp/>required<sp/>to<sp/>protect</highlight></codeline>
<codeline lineno="67"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>dangerous<sp/>floating<sp/>point<sp/>sections.</highlight></codeline>
<codeline lineno="68"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="69"><highlight class="comment"><sp/>*<sp/>2)<sp/>Turn<sp/>on<sp/>the<sp/>inclusion<sp/>of<sp/>the<sp/>code<sp/>by<sp/>adding<sp/>the<sp/>``--with-fpectl&apos;&apos;</highlight></codeline>
<codeline lineno="70"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>flag<sp/>at<sp/>the<sp/>time<sp/>you<sp/>run<sp/>configure.<sp/><sp/>If<sp/>the<sp/>fpectl<sp/>or<sp/>other<sp/>modules</highlight></codeline>
<codeline lineno="71"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>which<sp/>use<sp/>the<sp/>*_PROTECT<sp/>macros<sp/>are<sp/>to<sp/>be<sp/>dynamically<sp/>loaded,<sp/>be</highlight></codeline>
<codeline lineno="72"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>sure<sp/>they<sp/>are<sp/>compiled<sp/>with<sp/>WANT_SIGFPE_HANDLER<sp/>defined.</highlight></codeline>
<codeline lineno="73"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="74"><highlight class="comment"><sp/>*<sp/>3)<sp/>When<sp/>python<sp/>is<sp/>built<sp/>and<sp/>running,<sp/>import<sp/>fpectl,<sp/>and<sp/>execute</highlight></codeline>
<codeline lineno="75"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>fpectl.turnon_sigfpe().<sp/>This<sp/>sets<sp/>up<sp/>the<sp/>signal<sp/>handler<sp/>and<sp/>enables</highlight></codeline>
<codeline lineno="76"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>generation<sp/>of<sp/>SIGFPE<sp/>whenever<sp/>an<sp/>exception<sp/>occurs.<sp/>From<sp/>this<sp/>point</highlight></codeline>
<codeline lineno="77"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>on,<sp/>any<sp/>properly<sp/>trapped<sp/>SIGFPE<sp/>should<sp/>result<sp/>in<sp/>the<sp/>Python</highlight></codeline>
<codeline lineno="78"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>FloatingPointError<sp/>exception.</highlight></codeline>
<codeline lineno="79"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="80"><highlight class="comment"><sp/>*<sp/>Step<sp/>1<sp/>has<sp/>been<sp/>done<sp/>already<sp/>for<sp/>the<sp/>Python<sp/>kernel<sp/>code,<sp/>and<sp/>should<sp/>be</highlight></codeline>
<codeline lineno="81"><highlight class="comment"><sp/>*<sp/>done<sp/>soon<sp/>for<sp/>the<sp/>NumPy<sp/>array<sp/>package.<sp/><sp/>Step<sp/>2<sp/>is<sp/>usually<sp/>done<sp/>once<sp/>at</highlight></codeline>
<codeline lineno="82"><highlight class="comment"><sp/>*<sp/>python<sp/>install<sp/>time.<sp/>Python&apos;s<sp/>behavior<sp/>with<sp/>respect<sp/>to<sp/>SIGFPE<sp/>is<sp/>not</highlight></codeline>
<codeline lineno="83"><highlight class="comment"><sp/>*<sp/>changed<sp/>unless<sp/>you<sp/>also<sp/>do<sp/>step<sp/>3.<sp/>Thus<sp/>you<sp/>can<sp/>control<sp/>this<sp/>new</highlight></codeline>
<codeline lineno="84"><highlight class="comment"><sp/>*<sp/>facility<sp/>at<sp/>compile<sp/>time,<sp/>or<sp/>run<sp/>time,<sp/>or<sp/>both.</highlight></codeline>
<codeline lineno="85"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="86"><highlight class="comment"><sp/>********************************</highlight></codeline>
<codeline lineno="87"><highlight class="comment"><sp/>*<sp/>Using<sp/>the<sp/>macros<sp/>in<sp/>your<sp/>code:</highlight></codeline>
<codeline lineno="88"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="89"><highlight class="comment"><sp/>*<sp/>static<sp/>PyObject<sp/>*foobar(PyObject<sp/>*self,PyObject<sp/>*args)</highlight></codeline>
<codeline lineno="90"><highlight class="comment"><sp/>*<sp/>{</highlight></codeline>
<codeline lineno="91"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/>....</highlight></codeline>
<codeline lineno="92"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/>PyFPE_START_PROTECT(&quot;Error<sp/>in<sp/>foobar&quot;,<sp/>return<sp/>0)</highlight></codeline>
<codeline lineno="93"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>dangerous_op(somearg1,<sp/>somearg2,<sp/>...);</highlight></codeline>
<codeline lineno="94"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/>PyFPE_END_PROTECT(result)</highlight></codeline>
<codeline lineno="95"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/>....</highlight></codeline>
<codeline lineno="96"><highlight class="comment"><sp/>*<sp/>}</highlight></codeline>
<codeline lineno="97"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="98"><highlight class="comment"><sp/>*<sp/>If<sp/>a<sp/>floating<sp/>point<sp/>error<sp/>occurs<sp/>in<sp/>dangerous_op,<sp/>foobar<sp/>returns<sp/>0<sp/>(NULL),</highlight></codeline>
<codeline lineno="99"><highlight class="comment"><sp/>*<sp/>after<sp/>setting<sp/>the<sp/>associated<sp/>value<sp/>of<sp/>the<sp/>FloatingPointError<sp/>exception<sp/>to</highlight></codeline>
<codeline lineno="100"><highlight class="comment"><sp/>*<sp/>&quot;Error<sp/>in<sp/>foobar&quot;.<sp/>``Dangerous_op&apos;&apos;<sp/>can<sp/>be<sp/>a<sp/>single<sp/>operation,<sp/>or<sp/>a<sp/>block</highlight></codeline>
<codeline lineno="101"><highlight class="comment"><sp/>*<sp/>of<sp/>code,<sp/>function<sp/>calls,<sp/>or<sp/>any<sp/>combination,<sp/>so<sp/>long<sp/>as<sp/>no<sp/>alternate</highlight></codeline>
<codeline lineno="102"><highlight class="comment"><sp/>*<sp/>return<sp/>is<sp/>possible<sp/>before<sp/>the<sp/>PyFPE_END_PROTECT<sp/>macro<sp/>is<sp/>reached.</highlight></codeline>
<codeline lineno="103"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="104"><highlight class="comment"><sp/>*<sp/>The<sp/>macros<sp/>can<sp/>only<sp/>be<sp/>used<sp/>in<sp/>a<sp/>function<sp/>context<sp/>where<sp/>an<sp/>error<sp/>return</highlight></codeline>
<codeline lineno="105"><highlight class="comment"><sp/>*<sp/>can<sp/>be<sp/>recognized<sp/>as<sp/>signaling<sp/>a<sp/>Python<sp/>exception.<sp/>(Generally,<sp/>most</highlight></codeline>
<codeline lineno="106"><highlight class="comment"><sp/>*<sp/>functions<sp/>that<sp/>return<sp/>a<sp/>PyObject<sp/>*<sp/>will<sp/>qualify.)</highlight></codeline>
<codeline lineno="107"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="108"><highlight class="comment"><sp/>*<sp/>Guido&apos;s<sp/>original<sp/>design<sp/>suggestion<sp/>for<sp/>PyFPE_START_PROTECT<sp/>and</highlight></codeline>
<codeline lineno="109"><highlight class="comment"><sp/>*<sp/>PyFPE_END_PROTECT<sp/>had<sp/>them<sp/>open<sp/>and<sp/>close<sp/>a<sp/>local<sp/>block,<sp/>with<sp/>a<sp/>locally</highlight></codeline>
<codeline lineno="110"><highlight class="comment"><sp/>*<sp/>defined<sp/>jmp_buf<sp/>and<sp/>jmp_buf<sp/>pointer.<sp/>This<sp/>would<sp/>allow<sp/>recursive<sp/>nesting</highlight></codeline>
<codeline lineno="111"><highlight class="comment"><sp/>*<sp/>of<sp/>the<sp/>macros.<sp/>The<sp/>Ansi<sp/>C<sp/>standard<sp/>makes<sp/>it<sp/>clear<sp/>that<sp/>such<sp/>local</highlight></codeline>
<codeline lineno="112"><highlight class="comment"><sp/>*<sp/>variables<sp/>need<sp/>to<sp/>be<sp/>declared<sp/>with<sp/>the<sp/>&quot;volatile&quot;<sp/>type<sp/>qualifier<sp/>to<sp/>keep</highlight></codeline>
<codeline lineno="113"><highlight class="comment"><sp/>*<sp/>setjmp<sp/>from<sp/>corrupting<sp/>their<sp/>values.<sp/>Some<sp/>current<sp/>implementations<sp/>seem</highlight></codeline>
<codeline lineno="114"><highlight class="comment"><sp/>*<sp/>to<sp/>be<sp/>more<sp/>restrictive.<sp/>For<sp/>example,<sp/>the<sp/>HPUX<sp/>man<sp/>page<sp/>for<sp/>setjmp<sp/>says</highlight></codeline>
<codeline lineno="115"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="116"><highlight class="comment"><sp/>*<sp/><sp/><sp/>Upon<sp/>the<sp/>return<sp/>from<sp/>a<sp/>setjmp()<sp/>call<sp/>caused<sp/>by<sp/>a<sp/>longjmp(),<sp/>the</highlight></codeline>
<codeline lineno="117"><highlight class="comment"><sp/>*<sp/><sp/><sp/>values<sp/>of<sp/>any<sp/>non-static<sp/>local<sp/>variables<sp/>belonging<sp/>to<sp/>the<sp/>routine</highlight></codeline>
<codeline lineno="118"><highlight class="comment"><sp/>*<sp/><sp/><sp/>from<sp/>which<sp/>setjmp()<sp/>was<sp/>called<sp/>are<sp/>undefined.<sp/>Code<sp/>which<sp/>depends<sp/>on</highlight></codeline>
<codeline lineno="119"><highlight class="comment"><sp/>*<sp/><sp/><sp/>such<sp/>values<sp/>is<sp/>not<sp/>guaranteed<sp/>to<sp/>be<sp/>portable.</highlight></codeline>
<codeline lineno="120"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="121"><highlight class="comment"><sp/>*<sp/>I<sp/>therefore<sp/>decided<sp/>on<sp/>a<sp/>more<sp/>limited<sp/>form<sp/>of<sp/>nesting,<sp/>using<sp/>a<sp/>counter</highlight></codeline>
<codeline lineno="122"><highlight class="comment"><sp/>*<sp/>variable<sp/>(PyFPE_counter)<sp/>to<sp/>keep<sp/>track<sp/>of<sp/>any<sp/>recursion.<sp/><sp/>If<sp/>an<sp/>exception</highlight></codeline>
<codeline lineno="123"><highlight class="comment"><sp/>*<sp/>occurs<sp/>in<sp/>an<sp/>``inner&apos;&apos;<sp/>pair<sp/>of<sp/>macros,<sp/>the<sp/>return<sp/>will<sp/>apparently</highlight></codeline>
<codeline lineno="124"><highlight class="comment"><sp/>*<sp/>come<sp/>from<sp/>the<sp/>outermost<sp/>level.</highlight></codeline>
<codeline lineno="125"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="126"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>WANT_SIGFPE_HANDLER</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;signal.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;setjmp.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;math.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/>jmp_buf<sp/>PyFPE_jbuf;</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>PyFPE_counter;</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>PyFPE_dummy(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*);</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PyFPE_START_PROTECT(err_string,<sp/>leave_stmt)<sp/>\</highlight></codeline>
<codeline lineno="137"><highlight class="preprocessor">if<sp/>(!PyFPE_counter++<sp/>&amp;&amp;<sp/>setjmp(PyFPE_jbuf))<sp/>{<sp/>\</highlight></codeline>
<codeline lineno="138"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>PyErr_SetString(PyExc_FloatingPointError,<sp/>err_string);<sp/>\</highlight></codeline>
<codeline lineno="139"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>PyFPE_counter<sp/>=<sp/>0;<sp/>\</highlight></codeline>
<codeline lineno="140"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>leave_stmt;<sp/>\</highlight></codeline>
<codeline lineno="141"><highlight class="preprocessor">}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="144"><highlight class="comment"><sp/>*<sp/>This<sp/>(following)<sp/>is<sp/>a<sp/>heck<sp/>of<sp/>a<sp/>way<sp/>to<sp/>decrement<sp/>a<sp/>counter.<sp/>However,</highlight></codeline>
<codeline lineno="145"><highlight class="comment"><sp/>*<sp/>unless<sp/>the<sp/>macro<sp/>argument<sp/>is<sp/>provided,<sp/>code<sp/>optimizers<sp/>will<sp/>sometimes<sp/>move</highlight></codeline>
<codeline lineno="146"><highlight class="comment"><sp/>*<sp/>this<sp/>statement<sp/>so<sp/>that<sp/>it<sp/>gets<sp/>executed<sp/>*before*<sp/>the<sp/>unsafe<sp/>expression</highlight></codeline>
<codeline lineno="147"><highlight class="comment"><sp/>*<sp/>which<sp/>we&apos;re<sp/>trying<sp/>to<sp/>protect.<sp/><sp/>That<sp/>pretty<sp/>well<sp/>messes<sp/>things<sp/>up,</highlight></codeline>
<codeline lineno="148"><highlight class="comment"><sp/>*<sp/>of<sp/>course.</highlight></codeline>
<codeline lineno="149"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="150"><highlight class="comment"><sp/>*<sp/>If<sp/>the<sp/>expression(s)<sp/>you&apos;re<sp/>trying<sp/>to<sp/>protect<sp/>don&apos;t<sp/>happen<sp/>to<sp/>return<sp/>a</highlight></codeline>
<codeline lineno="151"><highlight class="comment"><sp/>*<sp/>value,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>manufacture<sp/>a<sp/>dummy<sp/>result<sp/>just<sp/>to<sp/>preserve<sp/>the</highlight></codeline>
<codeline lineno="152"><highlight class="comment"><sp/>*<sp/>correct<sp/>ordering<sp/>of<sp/>statements.<sp/><sp/>Note<sp/>that<sp/>the<sp/>macro<sp/>passes<sp/>the<sp/>address</highlight></codeline>
<codeline lineno="153"><highlight class="comment"><sp/>*<sp/>of<sp/>its<sp/>argument<sp/>(so<sp/>you<sp/>need<sp/>to<sp/>give<sp/>it<sp/>something<sp/>which<sp/>is<sp/>addressable).</highlight></codeline>
<codeline lineno="154"><highlight class="comment"><sp/>*<sp/>If<sp/>your<sp/>expression<sp/>returns<sp/>multiple<sp/>results,<sp/>pass<sp/>the<sp/>last<sp/>such<sp/>result</highlight></codeline>
<codeline lineno="155"><highlight class="comment"><sp/>*<sp/>to<sp/>PyFPE_END_PROTECT.</highlight></codeline>
<codeline lineno="156"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="157"><highlight class="comment"><sp/>*<sp/>Note<sp/>that<sp/>PyFPE_dummy<sp/>returns<sp/>a<sp/>double,<sp/>which<sp/>is<sp/>cast<sp/>to<sp/>int.</highlight></codeline>
<codeline lineno="158"><highlight class="comment"><sp/>*<sp/>This<sp/>seeming<sp/>insanity<sp/>is<sp/>to<sp/>tickle<sp/>the<sp/>Floating<sp/>Point<sp/>Unit<sp/>(FPU).</highlight></codeline>
<codeline lineno="159"><highlight class="comment"><sp/>*<sp/>If<sp/>an<sp/>exception<sp/>has<sp/>occurred<sp/>in<sp/>a<sp/>preceding<sp/>floating<sp/>point<sp/>operation,</highlight></codeline>
<codeline lineno="160"><highlight class="comment"><sp/>*<sp/>some<sp/>architectures<sp/>(notably<sp/>Intel<sp/>80x86)<sp/>will<sp/>not<sp/>deliver<sp/>the<sp/>interrupt</highlight></codeline>
<codeline lineno="161"><highlight class="comment"><sp/>*<sp/>until<sp/>the<sp/>*next*<sp/>floating<sp/>point<sp/>operation.<sp/><sp/>This<sp/>is<sp/>painful<sp/>if<sp/>you&apos;ve</highlight></codeline>
<codeline lineno="162"><highlight class="comment"><sp/>*<sp/>already<sp/>decremented<sp/>PyFPE_counter.</highlight></codeline>
<codeline lineno="163"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PyFPE_END_PROTECT(v)<sp/>PyFPE_counter<sp/>-=<sp/>(int)PyFPE_dummy(&amp;(v));</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PyFPE_START_PROTECT(err_string,<sp/>leave_stmt)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PyFPE_END_PROTECT(v)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal">}</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>!Py_PYFPE_H<sp/>*/</highlight><highlight class="preprocessor"></highlight></codeline>
    </programlisting>
    <location file="/usr/include/python3.6m/pyfpe.h"/>
  </compounddef>
</doxygen>
